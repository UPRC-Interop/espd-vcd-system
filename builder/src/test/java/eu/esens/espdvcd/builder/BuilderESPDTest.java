
package eu.esens.espdvcd.builder;

import eu.esens.espdvcd.model.ESPDRequest;
import java.io.InputStream;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;

/**
 *
 * @author Jerry Dimitriou <jerouris@unipi.gr>
 */
public class BuilderESPDTest {
    
    InputStream is;
    public BuilderESPDTest() {
    }
    
    @Before
    public void setUp() {
        is = BuilderESPDTest.class.getResourceAsStream("/espd-request.xml");
        Assert.assertNotNull(is);
    }

    @Test
    public void createESPDRequestFromFile() throws Exception {
        
        ESPDBuilder espdBuiler = new ESPDBuilder();
        // Here we load an ESPD Request generated by the EU Service
        ESPDRequest espd = espdBuiler.createFromXML(is);
        Assert.assertNotNull(espd);

        // We create an XML from our simple model 
        String XML = espdBuiler.createXMLasString(espd);
        Assert.assertNotNull(XML);
        System.out.println(XML);
    }   
}
