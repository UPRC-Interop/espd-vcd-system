apply plugin: 'application'

sourceCompatibility = 1.8

dependencies {
    compile project(':builder')
    compile project(':codelists')
    compile project(':model')
    compile project(':validator')

    compile 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.9.4'
    compile 'com.sparkjava:spark-core:2.7.1'
}

jar {
    manifest {
        attributes "Main-Class": "eu.esens.espdvcd.designer.Server"
    }

    doFirst {
        from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    }
    exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'
}

mainClassName='eu.esens.espdvcd.designer.Server'