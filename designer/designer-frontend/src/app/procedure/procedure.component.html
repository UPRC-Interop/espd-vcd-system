<h4>Part I: Information concerning the procurement procedure and the contracting authority or contracting entity</h4>
<form #f="ngForm">
  <mat-accordion multi="true">
    <mat-expansion-panel expanded="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Information about Publication
        </mat-panel-title>
        <mat-panel-description>

        </mat-panel-description>
      </mat-expansion-panel-header>
      <div class="desc">
        <p>For procurement procedures in which a call for competition has been published in the Official Journal of the European Union, the information required under Part I will be automatically retrieved, provided that the electronic ESPD-service is used to generate and fill in the ESPD. Reference of the relevant notice published in the Official Journal of the European Union:</p>
      </div>
      <mat-form-field>
        <!--<label for="noticeNumber">Received Notice Number</label>-->
        <input matInput id="noticeNumber" name="receivedNoticeNumber" [(ngModel)]="dataService.receivedNoticeNumber" placeholder="Received notice number">
      </mat-form-field>
      <mat-form-field>
        <input matInput name="noticeNumberOJS" [(ngModel)]="dataService.CADetails.procurementPublicationNumber" placeholder="Notice number in the OJS">
      </mat-form-field>
      <mat-form-field>
        <input matInput name="ojsURL" placeholder="OJS URL" [(ngModel)]="dataService.CADetails.procurementPublicationURI">
      </mat-form-field>
      <mat-form-field>
        <input matInput name="nationalJournal" placeholder="National Official Journal" [(ngModel)]="dataService.CADetails.nationalOfficialJournal">
      </mat-form-field>

      <div class="desc">
        <p>In case publication of a notice in the Official Journal of the European Union is not required, please give other information allowing the procurement procedure to be unequivocally identified (e. g. reference of a publication at national level)</p>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel expanded="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Identity of the Procurer
        </mat-panel-title>
        <mat-panel-description>

        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-form-field>
        <input matInput placeholder="Official Name" name="CAofficialName" [(ngModel)]="dataService.CADetails.caofficialName">
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Procurer Identification" name="CAofficialID" [(ngModel)]="dataService.CADetails.id">
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Procurer website" name="CAofficialWebSite" [(ngModel)]="dataService.CADetails.webSiteURI">
      </mat-form-field>
      <ng-container *ngIf="dataService.CADetails.postalAddress">
        <mat-form-field>
          <input matInput placeholder="Procurer City" name="CAofficialCity" [(ngModel)]="dataService.CADetails.postalAddress.city">
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Street and Number" name="CAofficialStreet" [(ngModel)]="dataService.CADetails.postalAddress.addressLine1">
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Post Code" name="CAofficialPostCode" [(ngModel)]="dataService.CADetails.postalAddress.postCode">
        </mat-form-field>
      </ng-container>
      <ng-container *ngIf="dataService.CADetails.contactingDetails">
        <mat-form-field>
          <input matInput placeholder="Contact Point Name" name="CAofficialContactName" [(ngModel)]="dataService.CADetails.contactingDetails.contactPointName">
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Contact Telephone Number" name="CAofficialContactTelephone" [(ngModel)]="dataService.CADetails.contactingDetails.telephoneNumber">
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Contact Fax Number" name="CAofficialContactFaxNumber" [(ngModel)]="dataService.CADetails.contactingDetails.faxNumber">
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Contact email address" name="CAofficialContactEmail" [(ngModel)]="dataService.CADetails.contactingDetails.emailAddress">
        </mat-form-field>
      </ng-container>
      <mat-form-field>
        <mat-select name="CACountry" placeholder="Select Country" [(ngModel)]="dataService.selectedCountry">
          <mat-option>None</mat-option>
          <mat-option *ngFor="let country of countries" [value]="country.code">{{country.name}}</mat-option>
        </mat-select>
      </mat-form-field>
    </mat-expansion-panel>

    <mat-expansion-panel expanded="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Information about the procurement procedure
        </mat-panel-title>
        <mat-panel-description>

        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-form-field>
        <mat-select placeholder="Type of Procedure" name="typeOfProcedure" [(ngModel)]="dataService.CADetails.procurementProcedureType">
          <mat-option>None</mat-option>
          <mat-option *ngFor="let proc of procedureTypes" [value]="proc.code">{{proc.name}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Title" name="title" [(ngModel)]="dataService.CADetails.procurementProcedureTitle">
      </mat-form-field>
      <mat-form-field>
        <!--<input matInput placeholder="Short Description">-->
        <textarea matInput
                  id="shortDesc" cols="30" rows="10"
                  placeholder="Short Description"
                  name="description"
                  [(ngModel)]="dataService.CADetails.procurementProcedureDesc"></textarea>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="File Reference Number" name="fileReferenceNumber"
               [(ngModel)]="dataService.CADetails.procurementProcedureFileReferenceNo">
      </mat-form-field>
    </mat-expansion-panel>
  </mat-accordion>
  <button mat-raised-button color="primary" matStepperPrevious>Back</button>
  <button type="button" mat-raised-button color="primary" matStepperNext (click)="onProcedureSubmit(f)">Next</button>
</form>
